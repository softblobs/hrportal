<h3 class="btn-link">Time Sheet</h3>

<h4 style="color:olivedrab;">   
    <mat-form-field style="float: right;">
    <input matInput [matDatepicker]="picker" [(ngModel)]="curDate" [max]="maxDate"   [min]="minDate" placeholder="Choose a date" (dateChange)="onChangeEvent($event)" >
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker ></mat-datepicker>
  </mat-form-field>  
  <div class="clearfix"></div>
 
  
</h4>
<button  (click)="addEvent()" class="btn btn-danger active float-right">
  <b>Add new </b> 
</button>
<br/>
<div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>          
        <th style="color:rgb(255, 0, 0);">Task</th>
        <th  style="color:rgb(255, 0, 0);">Description</th>
        <th style="color:rgb(255, 0, 0);">Hours</th>  
        <th style="color:rgb(255, 0, 0);">Status</th>
        <th style="color:rgb(255, 0, 0);" colspan="2">Action</th>   
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let list of sheetList">              
        <td>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="list.task"
            (keyup)="refresh.next()"
            [disabled]="list.status == 'Approved'"
          />
        </td>
        <td>  <input
          type="text"
          class="form-control"
          [(ngModel)]="list.description"
          (keyup)="refresh.next()"
          [disabled]="list.status == 'Approved'"
        /></td>
        <td><input          
          class="form-control"
          [(ngModel)]="list.hours"
          (keyup)="refresh.next()"
          [disabled]="list.status == 'Approved'"
          type="number"  min=0 max=12  
        />
        </td>  
        <td>
          {{list.status}}
        </td> 
        <td> <button  class="btn btn-danger" [disabled]="list.status == 'Approved'" (click)="update(list)">Save</button> </td>
        <td><button id="remove" class="btn btn-primary active" [disabled]="list.status == 'Approved'" (click)="delete(list.id)">Delete</button></td>          
      </tr>
      
    </tbody>    
  </table>
</div>
<div role="alert"  *ngIf="error.length > 0" class="alert alert-danger alert-text-danger align-items-center d-flex fs-14 mb-16 rounded ng-star-inserted"><i-feather _nghost-dto-c11="" class="feather-base me-12 text-danger" ng-reflect-name="alert-circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="feather feather-alert-circle">
  <line x1="12" y1="16" x2="12.01" y2="16"></line>
  </svg></i-feather> {{error}} 
</div>
<div>


                                  